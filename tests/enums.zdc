
global_int := 4;

c :: import c;
std :: import std;

DAY_MONDAY    :: 1;
DAY_TUESDAY   :: 2;
DAY_WEDNESDAY :: 3;
DAY_THURSDAY  :: 4;
DAY_FRIDAY    :: 5;
DAY_SATURDAY  :: 6;
DAY_SUNDAY    :: 7;


Day :: enum
{
    MONDAY;
    TUESDAY;
    WEDNESDAY;
    THURSDAY;
    FRIDAY;
    SATURDAY;
    SUNDAY;
}

Binary_Op : u32 : enum
{
    FIRST_MATH :: ADD;
    ADD;
    SUB;
    MUL;
    DIV;
    LAST_MATH :: DIV;

    FIRST_CMP :: LT;
    LT;
    GT;
    EQ :: 20;
    NEQ;
    LAST_CMP :: NEQ;
}

main :: () -> int
{
    // io.printf("enum test()\n");

    // io.printf("DAY_MONDAY: %ld\n", DAY_MONDAY);

    // io.printf("global_int: %lu\n", global_int);
    // global_int = 5;
    // io.printf("global_int: %lu\n", global_int);

    // global_int_ptr := *global_int;
    // <global_int_ptr = 6;
    // io.printf("<global_int_ptr: %lu\n", <global_int_ptr);
    // io.printf("global_int: %lu\n", global_int);

    day : Day;
    day = Day.WEDNESDAY;

    day2 := Day.FRIDAY;

    c.printf("day: %lu\n", day);
    print_day(day);
    print_day(day2);
    print_day(Day.SUNDAY);
    print_day((:Day)11);

    for (i := 0; i <= 12; i = i + 1)
    {
        print_num(i);
    }

    std.print(" ");

    op_div := Binary_Op.DIV;
    op_last_math := Binary_Op.LAST_MATH;
    assert(op_div == op_last_math);
    assert(Binary_Op.LT == Binary_Op.FIRST_CMP);
    std.print(op_div);
    std.print(Binary_Op.EQ);
    std.print(Binary_Op.NEQ);
    std.print(Binary_Op.LAST_CMP);
}

print_day :: (day : Day) -> void
{
    switch (day)
    {
        case Day.MONDAY:
            c.printf("Day.MONDAY\n");

        case Day.TUESDAY, Day.WEDNESDAY:
        {
            c.printf("Day.TUESDAY or Day.WEDNESDAY\n");
        }

        case Day.THURSDAY:
            c.printf("Day.THURSDAY\n");

        case Day.FRIDAY:
            c.printf("Day.FRIDAY\n");

        case Day.SATURDAY:
            c.printf("Day.SATURDAY\n");

        case Day.SUNDAY:
            c.printf("Day.SUNDAY\n");

        default:
            c.printf("Day.???\n");
    }
}

print_num :: (num : int) -> void
{
    switch (num)
    {
        case 0: c.printf("zero\n");
        case 1..3: c.printf("low\n");
        case 4..7: c.printf("medium\n");
        case 8..10: c.printf("high\n");
        default: c.printf("%lu\n", num);
    }
}
