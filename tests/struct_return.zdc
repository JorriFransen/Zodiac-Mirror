
//// Roadmap
//
// * Sret attribute in llvm
// * Inalloca attribute in llvm
// * Dont emit alloca for sret arg in llvm
// * Multiple returns
// * Copy elision for assignments and declarations
// * Copy elision for returns
// * Check if varargs still work correctly
// * Check if overloaded and poly functions still work correctly
//
//

_c :: import c;

main :: () -> int
{
    _builtin_open_std_handles();
    // vec2_0();

    // v := vec2_0();

    v : Vec2;
    // v = vec2_0();
    v = make_vec2(4, 5);

    _c.printf("v: %d, %d\n", v.x, v.y);

    return 0;
}

Vec2 :: struct
{
    x: int;
    y: int;
}

vec2_0 :: () -> Vec2
{
    return { 0, 0 };
}

make_vec2 :: (x: int, y: int) -> Vec2
{
    return { x, y };
}
