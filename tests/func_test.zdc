
static_if (PLATFORM_WINDOWS)
{
    #dynamic_link "msvcrt.dll";
}
else static_if (PLATFORM_LINUX)
{
    #dynamic_link "libc.so.6";
}
else
{
    static_assert(false);
}

#foreign puts :: (string: *u8) -> int;

c :: import c;

main :: () -> void
{
    puts_ptr := *puts;
    c.printf("puts_ptr: %#x\n", puts_ptr);
    c.printf("*io.puts: %#x\n", *c.puts);

    puts_ptr("puts_ptr_test");
}
