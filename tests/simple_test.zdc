

io :: import io;

// Vec2i :: struct
// {
    // x : int;
    // y : int;
// }

main :: () -> int
{
    loop();
    array_test();
}

array_test :: () -> void
{
    io.printf("array_test()\n");

    int_array : [5]int = { 255, 256, 33, 44, 555 };
    io.printf("Array length: %lu\n", array_length(int_array));

    for (i := 0; i < array_length(int_array); i = i + 1)
    {
        io.printf("int_array[%ld] = %ld\n", i, int_array[i]);
    }

    int_array[3] = 444;

    io.printf("\n");

    for (i := 0; i < array_length(int_array); i = i + 1)
    {
        io.printf("int_array[%ld] = %ld\n", i, int_array[i]);
    }

    int_array_3_ptr := *int_array[3];
    <int_array_3_ptr = 888;

    io.printf("\n");

    for (i := 0; i < array_length(int_array); i = i + 1)
    {
        io.printf("int_array[%ld] = %ld\n", i, int_array[i]);
    }

    int_array = { 5, 4, 3, 2, 1 };

    io.printf("\n");

    for (i := 0; i < array_length(int_array); i = i + 1)
    {
        io.printf("int_array[%ld] = %ld\n", i, int_array[i]);
    }
}

loop :: () -> void
{
    i := 0;
    while (i < 10)
    {
        io.print_digit(i);
        i = i + 1;
    }

    i = i - 1;

    while (i >= 0)
    {
        io.print_digit(i);
        i = i - 1;
    }

    for (j := 0; j < 5; j = j + 1)
    {
        io.print_digit(j);
    }

    for (y := 0; y < 10; y = y + 1)
    {
        for (x := 0; x < 10; x = x + 1)
        {
            io.printf("%ld,%ld  ", x, y);
        }

        io.printf("\n");
    }

    io.putchar('\n');
}
