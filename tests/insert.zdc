
_c :: import c;
using _c;

main :: ()
{
    printf("insert test\n");
    printf("%s\n", create_variable("my_int", "int"));

    #insert create_variable("my_int", "iint");

    printf("my_int: %d\n", my_int);

    my_int = 4;

    printf("my_int: %d\n", my_int);
}


create_variable :: (name: *u8, type: *u8) -> *u8
{
    result : *u8;
    name_len := strlen(name);
    type_len := strlen(type);
    result_len := name_len + type_len + 3;

    result = (:*u8)malloc(result_len + 1);

    ri := 0;
    for (i := 0; i < name_len; i = i + 1)
    {
        result[ri] = name[i];
        ri = ri + 1;
    }

    result[ri] = ':';
    ri = ri + 1;
    result[ri] = ' ';
    ri = ri + 1;

    for (i := 0; i < type_len; i = i + 1)
    {
        result[ri] = type[i];
        ri = ri + 1;
    }

    result[ri] = ';';
    ri = ri + 1;
    result[ri] = 0;

    return result;
}
